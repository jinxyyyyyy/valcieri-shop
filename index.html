<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VALCIERI</title>

<style>
body{margin:0;font-family:Arial;background:#111;color:#fff}
header{background:#000;padding:20px 0;position:sticky;top:0;text-align:center;border-bottom:1px solid #222}
.logo-img{height:60px}
.top-bar{position:absolute;right:20px;top:20px}
.top-bar button{margin-left:8px}
nav{display:flex;justify-content:center;gap:15px;padding:15px 0;background:#000;border-bottom:1px solid #222;flex-wrap:wrap}
button{cursor:pointer}
.primary{background:#fff;color:#000;border:none;padding:8px 12px;font-weight:bold}
.secondary{background:#222;color:#fff;border:1px solid #444;padding:8px 12px}
.hidden{display:none}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:25px;padding:30px}
.product{background:#1a1a1a;padding:20px;border-radius:10px;text-align:center}
.controls{grid-column:1/-1;display:flex;gap:15px;flex-wrap:wrap;margin-bottom:20px}
.cart{padding:20px;background:#000;border-top:1px solid #222}
.page{padding:30px}
@media(max-width:768px){.logo-img{height:45px}}
</style>
</head>
<body>

<header>
<img src="logo.jpg" alt="VALCIERI Logo" class="logo-img" id="logoAlt">
<div class="top-bar">
<button onclick="setLanguage('fi')" class="secondary">FI</button>
<button onclick="setLanguage('en')" class="secondary">EN</button>
<button onclick="checkAdminAccess()" class="secondary" id="adminBtn"></button>
</div>
</header>

<nav id="navLinks"></nav>

<main>

<div id="storePage" class="page">
<div class="products" id="productsContainer"></div>
</div>

<div id="checkoutPage" class="page hidden">
<h2 id="checkoutTitle"></h2>
<div id="checkoutItems"></div>
<h3 id="checkoutTotal"></h3>
<button class="primary" onclick="placeOrder()" id="placeOrderBtn"></button>
</div>

<div id="confirmationPage" class="page hidden">
<h2 id="confirmTitle"></h2>
<p id="confirmText"></p>
<button class="primary" onclick="showPage('storePage')" id="backStoreBtn"></button>
</div>

<div id="loginPage" class="page hidden">
<h2 id="adminLoginTitle"></h2>
<input id="loginUser"><br><br>
<input id="loginPass" type="password"><br><br>
<button class="primary" onclick="loginAdmin()" id="loginBtn"></button>
</div>

<div id="adminPage" class="page hidden">
<h2 id="adminDashTitle"></h2>
<input id="adminName"><br><br>
<input id="adminPrice" type="number"><br><br>
<select id="adminCategory"></select><br><br>
<button class="primary" onclick="addProduct()" id="addProductBtn"></button>
<button class="secondary" onclick="logoutAdmin()" id="logoutBtn"></button>
</div>

<div class="cart">
<h3 id="cartTitle"></h3>
<div id="cartContainer"></div>
<h4 id="cartTotal"></h4>
<button class="primary" onclick="goCheckout()" id="checkoutBtn"></button>
</div>

</main>

<script>
let currentLang="fi";
let cart=JSON.parse(localStorage.getItem("cart"))||[];
let products=JSON.parse(localStorage.getItem("products"))||[
{id:1,name:"VALCIERI T-Shirt",price:29,category:"tshirt",created:Date.now()},
{id:2,name:"VALCIERI Hoodie",price:79,category:"hoodie",created:Date.now()}
];

const ADMIN_USERNAME="admin";
const ADMIN_PASSWORD="valcieri2026";

const translations={
fi:{
admin:"Ylläpito",
cart:"Ostoskori",
checkout:"Kassa",
placeOrder:"Tee tilaus",
orderConfirmed:"Tilaus vahvistettu ✅",
thankYou:"Kiitos ostoksestasi VALCIERI.",
backStore:"Takaisin kauppaan",
adminLogin:"Ylläpidon kirjautuminen",
username:"Käyttäjänimi",
password:"Salasana",
login:"Kirjaudu",
wrongLogin:"Väärä kirjautuminen",
adminDash:"Ylläpito Paneeli",
productName:"Tuotteen nimi",
price:"Hinta",
addProduct:"Lisää tuote",
logout:"Kirjaudu ulos",
search:"Hae tuotteita...",
sortNewest:"Uusimmat",
sortLow:"Hinta ↑",
sortHigh:"Hinta ↓",
categories:{all:"Kaikki",tshirt:"T-Paidat",hoodie:"Hupparit"},
add:"Lisää koriin"
},
en:{
admin:"Admin",
cart:"Cart",
checkout:"Checkout",
placeOrder:"Place Order",
orderConfirmed:"Order Confirmed ✅",
thankYou:"Thank you for shopping with VALCIERI.",
backStore:"Back to Store",
adminLogin:"Admin Login",
username:"Username",
password:"Password",
login:"Login",
wrongLogin:"Wrong login",
adminDash:"Admin Dashboard",
productName:"Product Name",
price:"Price",
addProduct:"Add Product",
logout:"Logout",
search:"Search products...",
sortNewest:"Newest",
sortLow:"Price ↑",
sortHigh:"Price ↓",
categories:{all:"All",tshirt:"T-Shirts",hoodie:"Hoodies"},
add:"Add to Cart"
}
};

function setLanguage(lang){
currentLang=lang;
applyTranslations();
renderNav();
renderProducts();
renderCart();
}

function applyTranslations(){
let t=translations[currentLang];
document.getElementById("adminBtn").innerText=t.admin;
document.getElementById("cartTitle").innerText=t.cart;
document.getElementById("checkoutBtn").innerText=t.checkout;
document.getElementById("checkoutTitle").innerText=t.checkout;
document.getElementById("placeOrderBtn").innerText=t.placeOrder;
document.getElementById("confirmTitle").innerText=t.orderConfirmed;
document.getElementById("confirmText").innerText=t.thankYou;
document.getElementById("backStoreBtn").innerText=t.backStore;
document.getElementById("adminLoginTitle").innerText=t.adminLogin;
document.getElementById("loginUser").placeholder=t.username;
document.getElementById("loginPass").placeholder=t.password;
document.getElementById("loginBtn").innerText=t.login;
document.getElementById("adminDashTitle").innerText=t.adminDash;
document.getElementById("adminName").placeholder=t.productName;
document.getElementById("adminPrice").placeholder=t.price;
document.getElementById("addProductBtn").innerText=t.addProduct;
document.getElementById("logoutBtn").innerText=t.logout;
}

function renderNav(){
let nav=document.getElementById("navLinks");
nav.innerHTML="";
for(let key in translations[currentLang].categories){
let btn=document.createElement("button");
btn.className="secondary";
btn.innerText=translations[currentLang].categories[key];
btn.onclick=()=>renderProducts(key);
nav.appendChild(btn);
}
}

function renderProducts(category="all"){
let container=document.getElementById("productsContainer");
container.innerHTML=`
<div class="controls">
<input placeholder="${translations[currentLang].search}">
<select>
<option>${translations[currentLang].sortNewest}</option>
<option>${translations[currentLang].sortLow}</option>
<option>${translations[currentLang].sortHigh}</option>
</select>
</div>`;
products.forEach(p=>{
container.innerHTML+=`
<div class="product">
<h3>${p.name}</h3>
<p>€${p.price}</p>
<select><option>S</option><option>M</option><option>L</option><option>XL</option></select><br><br>
<button class="primary">${translations[currentLang].add}</button>
</div>`;
});
}

function renderCart(){
let total=0;
let c=document.getElementById("cartContainer");
c.innerHTML="";
cart.forEach(i=>{
total+=i.price*i.qty;
c.innerHTML+=`<div>${i.name} x${i.qty}</div>`;
});
document.getElementById("cartTotal").innerText="Total: €"+total.toFixed(2);
}

function showPage(id){
["storePage","checkoutPage","confirmationPage","adminPage","loginPage"]
.forEach(p=>document.getElementById(p).classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}

function loginAdmin(){
let u=document.getElementById("loginUser").value;
let p=document.getElementById("loginPass").value;
if(u===ADMIN_USERNAME&&p===ADMIN_PASSWORD){
showPage("adminPage");
}else alert(translations[currentLang].wrongLogin);
}

function checkAdminAccess(){showPage("loginPage");}

setLanguage("fi");
</script>

</body>
</html>
